{% extends 'base.html' %}
{% load i18n %}
{% block title %}News{% endblock %}
{% block content %}
<div style="margin-top:200px;" id="body-content">

    <section id="blog-list-section" class="blog-list-grid">
        <div class="blog-list-inner tt-wrap">
            <div class="row no-margin">
                <div class="col-md-8 no-padding-left no-padding-right">
                    <div class="archive-items">
                        <div class="archive-info-box text-center">
                            <div class="ai-box-subtitle"></div>
                            <h1 class="ai-box-title">{% trans "OUR NEWS" %}</h1>
                            <hr class="hr-short">
                        </div>
                        <div class="archive-items-list">

                            {% for news in news_list %}
                            <div class="search-results-item">
                                <a href="{% url 'news_single_page' news.id %}" class="sr-item-img bg-image"
                                    style="background-image: url('{{ news.image.url }}'); background-position: 50% 50%"></a>
                                <div class="sr-item-info">
                                    <div class="sr-item-category"><a href="blog-archive.html">{{ news.category}}</a>
                                    </div>
                                    <h5 class="sr-item-title"><a href="{% url 'news_single_page' news.id %}">{{ news.title }}</a></h5>
                                    <div class="sr-item-meta">
                                        <span class="published">{{ news.created_at }}</span>
                                    </div>
                                    <div class="bl-item-desc" >
                                        {{ news.subtitle|safe|striptags|truncatechars:200 }}
                                    </div>
                                    <a href="{% url 'news_single_page' news.id %}" class="btn btn-default btn-sm margin-top-20">{% trans "Read More" %}</a>
                                </div>
                            </div>
                            {% endfor %}

                        </div>
                    </div>
                    <nav class="pagination-wrap">
                        <ul class="pagination">
                            <!-- First & Previous -->
                            {% if news_list.has_previous %}
                                <li>
                                    <a href="?q={{ query }}&page=1" aria-label="First">
                                        <span aria-hidden="true">{% trans "First" %}</span>
                                    </a>
                                </li>
                                <li>
                                    <a href="?q={{ query }}&page={{ news_list.previous_page_number }}">{% trans "Prev" %}</a>
                                </li>
                            {% else %}
                                <li class="disabled"><span>{% trans "First" %}</span></li>
                                <li class="disabled"><span>{% trans "Prev" %}</span></li>
                            {% endif %}
                        
                            <!-- Page numbers -->
                            {% for i in news_list.paginator.page_range %}
                                {% if i == news_list.number %}
                                    <li class="active"><a href="#">{{ i }}</a></li>
                                {% elif i >= news_list.number|add:-2 and i <= news_list.number|add:2 %}
                                    <li><a href="?q={{ query }}&page={{ i }}">{{ i }}</a></li>
                                {% endif %}
                            {% endfor %}
                        
                            <!-- Next & Last -->
                            {% if news_list.has_next %}
                                <li>
                                    <a href="?q={{ query }}&page={{ news_list.next_page_number }}">{% trans 'Next' %}</a>
                                </li>
                                <li>
                                    <a href="?q={{ query }}&page={{ news_list.paginator.num_pages }}" aria-label="Last">
                                        <span aria-hidden="true">{% trans 'Last' %}</span>
                                    </a>
                                </li>
                            {% else %}
                                <li class="disabled"><span>{% trans 'Next' %}</span></li>
                                <li class="disabled"><span>{% trans 'Last' %}</span></li>
                            {% endif %}
                        </ul>                        
                    </nav>
                </div>

                {% include "content/news/news-menu.html"%}
            </div>
        </div>
    </section>
</div>
{% include "comman/top-footer.html"%}
{% endblock content %}
